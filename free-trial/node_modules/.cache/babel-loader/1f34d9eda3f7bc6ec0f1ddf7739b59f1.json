{"remainingRequest":"C:\\Users\\jung\\Desktop\\hyperledger-luniverstar-sample-master\\free-trial\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\jung\\Desktop\\hyperledger-luniverstar-sample-master\\free-trial\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\jung\\Desktop\\hyperledger-luniverstar-sample-master\\free-trial\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\jung\\Desktop\\hyperledger-luniverstar-sample-master\\free-trial\\src\\components\\my.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\jung\\Desktop\\hyperledger-luniverstar-sample-master\\free-trial\\src\\components\\my.vue","mtime":1597389170000},{"path":"C:\\Users\\jung\\Desktop\\hyperledger-luniverstar-sample-master\\free-trial\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jung\\Desktop\\hyperledger-luniverstar-sample-master\\free-trial\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\jung\\Desktop\\hyperledger-luniverstar-sample-master\\free-trial\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jung\\Desktop\\hyperledger-luniverstar-sample-master\\free-trial\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Header from '@/components/header';\nimport { Config } from \"../js/config\";\nimport BigNumber from 'bignumber.js';\nexport default {\n  components: {\n    Header: Header\n  },\n  data: function data() {\n    return {\n      balance: 0,\n      isLoading: false,\n      username: Config.userName ? Config.userName + ' 님의 지갑' : '지갑',\n      History: []\n    };\n  },\n  computed: {\n    walletAddress: function walletAddress() {\n      return Config.walletAddress;\n    },\n    mtSymbol: function mtSymbol() {\n      return Config.mt.symbol;\n    },\n    stSymbol: function stSymbol() {\n      return Config.st.symbol;\n    },\n    apiKey: function apiKey() {\n      return Config.dapp.apiKey;\n    }\n  },\n  mounted: function mounted() {\n    this.load();\n  },\n  methods: {\n    load: function load() {\n      var _this = this;\n\n      this.axios.get(\"https://api.luniverse.io/tx/v1.0/wallets/\".concat(this.walletAddress.user, \"/\").concat(this.mtSymbol, \"/\").concat(this.stSymbol, \"/balance\"), {\n        headers: {\n          'Authorization': \"Bearer \".concat(this.apiKey)\n        }\n      }).then(function (response) {\n        _this.balance = response.data.data.balance;\n        _this.balance = BigNumber(_this.balance).div(BigNumber('10').pow(18)).toFixed(5);\n      }).catch(function () {\n        _this.balance = 0;\n      });\n      this.axios.get(\"https://api.luniverse.io/tx/v1.0/histories?next=0\", {\n        headers: {\n          'Authorization': \"Bearer \".concat(this.apiKey),\n          'Content-Type': \"application/json\"\n        }\n      }).then(function (response) {\n        var temp = response.data.data.histories.items.filter(function (valid) {\n          return (valid.txStatus === \"SUCCEED\" || valid.txStatus === \"FAILED\") && [Config.txActionName.funding, Config.txActionName.like, Config.txActionName.purchase].indexOf(valid.actionName) !== -1;\n        });\n        temp.map(function (tx) {\n          return _this.History.push({\n            time: tx.createdAt.substring(0, 10),\n            name: tx.actionName,\n            status: tx.txStatus\n          });\n        });\n\n        _this.History.map(function (history) {\n          if (history.status === \"SUCCEED\") {\n            history.color = \"#00B580\";\n          } else if (history.status === 'FAILED') {\n            history.color = \"#F14E4E\";\n          }\n        });\n      }).catch(function () {});\n    }\n  }\n};",{"version":3,"sources":["my.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <Header/>\n    <div class=\"pt-5\">\n      <div class=\"mypage-img my-img\"></div>\n      <div class=\"py-5\">\n        <div class=\"wrapper py-xl-5\">\n          <div class=\"portfolio-caption\">\n            <div class=\"portfolio-caption t_white font-weight-500\"><div class=\"h1 mb4\">{{username}}</div></div>\n            <div class=\"portfolio-caption t_white font-weight-500\">{{balance}} <span class=\"h1 mb4\">RWT</span></div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"container px-3\">\n      <div class=\"row justify-content-between\">\n        <div class=\"mb-3\" style=\"margin-top: 6rem;\">\n          <h3>History</h3>\n        </div>\n        <table class=\"tbl\">\n            <colgroup>\n            <col style=\"width:20%\">\n            <col style=\"width:40%\">\n            <col style=\"width:10%\">\n          </colgroup>\n          <thead>\n            <tr>\n              <th scope=\"col\">일시</th>\n              <th scope=\"col\">항목</th>\n              <th scope=\"col\">실행결과</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-bind:key=\"`${i}`\" v-for=\"(history, i) in History\">\n              <td scope=\"row\">{{history.time}}</td>\n              <td><time datetime=\"\">{{history.name.toUpperCase()}}</time></td>\n              <td>\n                <time datetime=\"\" v-bind:style=\"{color: history.color}\">{{history.status}}</time>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Header from '@/components/header'\nimport {Config} from '../js/config'\nimport BigNumber from 'bignumber.js'\n\nexport default {\n  components: {\n    Header,\n  },\n  data() {\n    return {\n      balance: 0,\n      isLoading: false,\n      username: Config.userName ? Config.userName + ' 님의 지갑' : '지갑',\n      History: [\n      ]\n    }\n  },\n  computed: {\n    walletAddress() {\n      return Config.walletAddress\n    },\n    mtSymbol() {\n      return Config.mt.symbol\n    },\n    stSymbol() {\n      return Config.st.symbol\n    },\n    apiKey() {\n      return Config.dapp.apiKey\n    }\n  },\n  mounted() {\n    this.load()\n  },\n  methods: {\n    load() {\n      this.axios.get(`https://api.luniverse.io/tx/v1.0/wallets/${this.walletAddress.user}/${this.mtSymbol}/${this.stSymbol}/balance`, {\n        headers: {\n          'Authorization': `Bearer ${this.apiKey}`,\n        },\n      })\n        .then((response) => {\n          this.balance = response.data.data.balance;\n          this.balance = (BigNumber(this.balance)).div((BigNumber('10')).pow(18)).toFixed(5);\n        })\n        .catch(() => {\n          this.balance = 0;\n        });\n      \n      this.axios.get(`https://api.luniverse.io/tx/v1.0/histories?next=0`,{\n        headers: {\n          'Authorization': `Bearer ${this.apiKey}`,\n          'Content-Type': `application/json`\n        },\n      })\n        .then((response) => {\n          var temp=response.data.data.histories.items.filter(valid => (valid.txStatus===\"SUCCEED\" || valid.txStatus===\"FAILED\") && [Config.txActionName.funding, Config.txActionName.like, Config.txActionName.purchase].indexOf(valid.actionName) !== -1);\n          temp.map(tx => this.History.push({time: tx.createdAt.substring(0,10), name: tx.actionName, status: tx.txStatus}));\n          this.History.map(history => {\n            if(history.status === \"SUCCEED\"){\n              history.color=\"#00B580\"\n            }\n            else if(history.status === 'FAILED'){\n              history.color=\"#F14E4E\"\n            }\n          })\n        })\n        .catch(() => {\n        })\n    },\n  }\n}\n</script>"],"sourceRoot":"src/components"}]}